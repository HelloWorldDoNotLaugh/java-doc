## **方案一：单主节点 + 主从同步 + 哨兵机制**

- **架构特点**
	- 1 个主节点，2 个从节点。
	- 主节点提供**读写**服务，从节点提供**只读**服务。
	- 所有节点同时运行哨兵进程，形成一个 3 节点的哨兵集群。
- **高可用保障**
	- 当主节点宕机时，哨兵会通过投票机制判定主库下线，并自动将某个从节点提升为新的主节点。
	- 客户端可通过哨兵感知到主从切换，无需人工干预。
- **适用场景**
	- 数据量能够放进单机内存，未来增长可控。
	- 对跨 key 原子操作、事务支持有较强依赖。
	- 对扩容需求不高，重点在于**高可用与读写分离**。

## **方案二：分片集群（Redis Cluster）**

- **架构特点**
	- 至少 3 个主节点，每个主节点挂载 1 个从节点。
	- 数据通过哈希槽算法（16384 槽位）**均匀分布**在多个主节点上。
	- 从节点作为主库的副本，平时只做备份。
- **高可用保障**
	- 某个主节点宕机时，集群会通过投票机制自动将对应的从节点提升为新的主节点，保证集群继续对外服务。
	- 集群内多个主节点同时分担数据和请求，实现了横向扩展。
- **适用场景**
	- 单机无法容纳全部数据，业务需要**大规模水平扩容**。
	- 对高并发访问、海量数据处理有较高要求。
	- 可以接受跨分片的约束（通过哈希标签解决跨 key 操作）。

## **总结对比**

- **哨兵模式**：重点在于**高可用**，适合中小规模数据场景，架构简单，客户端接入相对容易。
- **分片集群**：既能保证**高可用**，又能实现**水平扩展**，适合大规模数据场景，但架构和客户端支持更复杂。